{
  "Resources": {
    "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomMESSAGESauth0Function",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.MESSAGES.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "ChatRoomMESSAGESDataResolverFnChatRoomMESSAGESDataResolverFnAppSyncFunction8CE9CD9A": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGEDataSource3F8B625AName"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomMESSAGESDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.MESSAGES.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.MESSAGES.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "ChatRoomMESSAGESResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "MESSAGES",
        "TypeName": "ChatRoom",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESDataResolverFnChatRoomMESSAGESDataResolverFnAppSyncFunction8CE9CD9A",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatRoom\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"MESSAGES\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGETableFD5F9EB1Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "UserMESSAGESDataResolverFnUserMESSAGESDataResolverFnAppSyncFunctionC00E4CE4": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGEDataSource3F8B625AName"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "UserMESSAGESDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.MESSAGES.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.MESSAGES.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "UserMESSAGESResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "MESSAGES",
        "TypeName": "User",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "UserMESSAGESDataResolverFnUserMESSAGESDataResolverFnAppSyncFunctionC00E4CE4",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"User\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"MESSAGES\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGETableFD5F9EB1Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "ChatRoomLastMessageDataResolverFnChatRoomLastMessageDataResolverFnAppSyncFunctionB54A04D9": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGEDataSource3F8B625AName"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomLastMessageDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.lastMessage.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.lastMessage.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "ChatRoomlastMessageResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "lastMessage",
        "TypeName": "ChatRoom",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatRoomLastMessageDataResolverFnChatRoomLastMessageDataResolverFnAppSyncFunctionB54A04D9",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatRoom\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"lastMessage\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGETableFD5F9EB1Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "UserDogDataResolverFnUserDogDataResolverFnAppSyncFunctionBDB115CE": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackDogNestedStackDogNestedStackResource559BF2A6OutputstransformerrootstackDogDogDataSource339D0768Name"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "UserDogDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.Dog.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.Dog.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "UserDogResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "Dog",
        "TypeName": "User",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "UserDogDataResolverFnUserDogDataResolverFnAppSyncFunctionBDB115CE",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"User\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"Dog\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackDogNestedStackDogNestedStackResource559BF2A6OutputstransformerrootstackDogDogTable7E1B867CRef"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "ChatRoomUserChatRoomDataResolverFnChatRoomUserChatRoomDataResolverFnAppSyncFunction64222ABF": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackChatRoomNestedStackChatRoomNestedStackResource81C11B41OutputstransformerrootstackChatRoomChatRoomDataSourceB42440B9Name"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomUserChatRoomDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoomUser.chatRoom.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoomUser.chatRoom.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "ChatRoomUserchatRoomResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "chatRoom",
        "TypeName": "ChatRoomUser",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomMESSAGESauth0FunctionChatRoomMESSAGESauth0FunctionAppSyncFunction519F78FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatRoomUserChatRoomDataResolverFnChatRoomUserChatRoomDataResolverFnAppSyncFunction64222ABF",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatRoomUser\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"chatRoom\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackChatRoomNestedStackChatRoomNestedStackResource81C11B41OutputstransformerrootstackChatRoomChatRoomTable302E5A2DRef"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "ChatRoomUseruserauth0FunctionChatRoomUseruserauth0FunctionAppSyncFunctionB280F7FF": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomUseruserauth0Function",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoomUser.user.auth.1.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson({})"
      }
    },
    "ChatRoomUserUserDataResolverFnChatRoomUserUserDataResolverFnAppSyncFunction698E38E2": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackUserNestedStackUserNestedStackResource01084C14OutputstransformerrootstackUserUserDataSourceA8C4C398Name"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomUserUserDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoomUser.user.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoomUser.user.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "ChatRoomUseruserResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "user",
        "TypeName": "ChatRoomUser",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomUseruserauth0FunctionChatRoomUseruserauth0FunctionAppSyncFunctionB280F7FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatRoomUserUserDataResolverFnChatRoomUserUserDataResolverFnAppSyncFunction698E38E2",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatRoomUser\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"user\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackUserNestedStackUserNestedStackResource01084C14OutputstransformerrootstackUserUserTableA7A02430Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "ChatRoomUsersDataResolverFnChatRoomUsersDataResolverFnAppSyncFunction4611198D": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserDataSource3BC25E1EName"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "ChatRoomUsersDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.Users.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/ChatRoom.Users.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "ChatRoomUsersResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "Users",
        "TypeName": "ChatRoom",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomUseruserauth0FunctionChatRoomUseruserauth0FunctionAppSyncFunctionB280F7FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "ChatRoomUsersDataResolverFnChatRoomUsersDataResolverFnAppSyncFunction4611198D",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"ChatRoom\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"Users\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserTable4F489782Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    },
    "UserChatroomsDataResolverFnUserChatroomsDataResolverFnAppSyncFunctionEA342598": {
      "Type": "AWS::AppSync::FunctionConfiguration",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "DataSourceName": {
          "Ref": "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserDataSource3BC25E1EName"
        },
        "FunctionVersion": "2018-05-29",
        "Name": "UserChatroomsDataResolverFn",
        "RequestMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.chatrooms.req.vtl"
            ]
          ]
        },
        "ResponseMappingTemplateS3Location": {
          "Fn::Join": [
            "",
            [
              "s3://",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentBucket7592718ARef"
              },
              "/",
              {
                "Ref": "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref"
              },
              "/resolvers/User.chatrooms.res.vtl"
            ]
          ]
        },
        "SyncConfig": {
          "ConflictDetection": "VERSION",
          "ConflictHandler": "AUTOMERGE"
        }
      }
    },
    "UserchatroomsResolver": {
      "Type": "AWS::AppSync::Resolver",
      "Properties": {
        "ApiId": {
          "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
        },
        "FieldName": "chatrooms",
        "TypeName": "User",
        "Kind": "PIPELINE",
        "PipelineConfig": {
          "Functions": [
            {
              "Fn::GetAtt": [
                "ChatRoomUseruserauth0FunctionChatRoomUseruserauth0FunctionAppSyncFunctionB280F7FF",
                "FunctionId"
              ]
            },
            {
              "Fn::GetAtt": [
                "UserChatroomsDataResolverFnUserChatroomsDataResolverFnAppSyncFunctionEA342598",
                "FunctionId"
              ]
            }
          ]
        },
        "RequestMappingTemplate": {
          "Fn::Join": [
            "",
            [
              "$util.qr($ctx.stash.put(\"typeName\", \"User\"))\n$util.qr($ctx.stash.put(\"fieldName\", \"chatrooms\"))\n$util.qr($ctx.stash.put(\"conditions\", []))\n$util.qr($ctx.stash.put(\"metadata\", {}))\n$util.qr($ctx.stash.metadata.put(\"dataSourceType\", \"AMAZON_DYNAMODB\"))\n$util.qr($ctx.stash.metadata.put(\"apiId\", \"",
              {
                "Ref": "referencetotransformerrootstackGraphQLAPI20497F53ApiId"
              },
              "\"))\n$util.qr($ctx.stash.put(\"tableName\", \"",
              {
                "Ref": "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserTable4F489782Ref"
              },
              "\"))\n$util.qr($ctx.stash.put(\"authRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackauthRoleNameFB872D50Ref"
              },
              "/CognitoIdentityCredentials\"))\n$util.qr($ctx.stash.put(\"unauthRole\", \"arn:aws:sts::",
              {
                "Ref": "AWS::AccountId"
              },
              ":assumed-role/",
              {
                "Ref": "referencetotransformerrootstackunauthRoleName49F3C1FERef"
              },
              "/CognitoIdentityCredentials\"))\n$util.toJson({})"
            ]
          ]
        },
        "ResponseMappingTemplate": "$util.toJson($ctx.prev.result)"
      }
    }
  },
  "Parameters": {
    "referencetotransformerrootstackGraphQLAPI20497F53ApiId": {
      "Type": "String"
    },
    "referencetotransformerrootstackGraphQLAPINONEDS2BA9D1C8Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackS3DeploymentBucket7592718ARef": {
      "Type": "String"
    },
    "referencetotransformerrootstackS3DeploymentRootKeyA71EA735Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGEDataSource3F8B625AName": {
      "Type": "String"
    },
    "referencetotransformerrootstackMESSAGENestedStackMESSAGENestedStackResourceBB9BBF71OutputstransformerrootstackMESSAGEMESSAGETableFD5F9EB1Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackauthRoleNameFB872D50Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackunauthRoleName49F3C1FERef": {
      "Type": "String"
    },
    "referencetotransformerrootstackDogNestedStackDogNestedStackResource559BF2A6OutputstransformerrootstackDogDogDataSource339D0768Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackDogNestedStackDogNestedStackResource559BF2A6OutputstransformerrootstackDogDogTable7E1B867CRef": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatRoomNestedStackChatRoomNestedStackResource81C11B41OutputstransformerrootstackChatRoomChatRoomDataSourceB42440B9Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatRoomNestedStackChatRoomNestedStackResource81C11B41OutputstransformerrootstackChatRoomChatRoomTable302E5A2DRef": {
      "Type": "String"
    },
    "referencetotransformerrootstackUserNestedStackUserNestedStackResource01084C14OutputstransformerrootstackUserUserDataSourceA8C4C398Name": {
      "Type": "String"
    },
    "referencetotransformerrootstackUserNestedStackUserNestedStackResource01084C14OutputstransformerrootstackUserUserTableA7A02430Ref": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserDataSource3BC25E1EName": {
      "Type": "String"
    },
    "referencetotransformerrootstackChatRoomUserNestedStackChatRoomUserNestedStackResourceF9517D7AOutputstransformerrootstackChatRoomUserChatRoomUserTable4F489782Ref": {
      "Type": "String"
    }
  }
}